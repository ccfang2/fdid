<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute simultaneous confidence band for event study coefficients in functional DiD framework — fdid_scb • fdid</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compute simultaneous confidence band for event study coefficients in functional DiD framework — fdid_scb"><meta property="og:description" content="The fdid_scb function is used to compute simultaneous confidence band for event study coefficients in a functional
framework, together with the point-wise confidence intervals at observable event time. We adopt the algorithm of the so-called fast and
fair simultaneous confidence bands. See Liebl and Reimherr (2023) for details."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fdid</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute simultaneous confidence band for event study coefficients in functional DiD framework</h1>

    <div class="hidden name"><code>fdid_scb.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>fdid_scb</code> function is used to compute simultaneous confidence band for event study coefficients in a functional
framework, together with the point-wise confidence intervals at observable event time. We adopt the algorithm of the so-called fast and
fair simultaneous confidence bands. See Liebl and Reimherr (2023) for details.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fdid_scb</span><span class="op">(</span></span>
<span>  object <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  beta <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cov <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  t0 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  df <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  conf.level <span class="op">=</span> <span class="fl">0.95</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>an object of S3 class <code>"fdid"</code>, which is an output of the function <a href="fdid.html">fdid</a>. If it is provided, arguments 'beta',
'cov' and 't0' are ignored.</p></dd>


<dt id="arg-beta">beta<a class="anchor" aria-label="anchor" href="#arg-beta"></a></dt>
<dd><p>a numeric matrix with two columns. The first column is the estimates of event study coefficients and the second column is the
corresponding event time. The estimate of coefficient at reference time should be normalized to 0.</p></dd>


<dt id="arg-cov">cov<a class="anchor" aria-label="anchor" href="#arg-cov"></a></dt>
<dd><p>a numeric matrix of covariance estimates.</p></dd>


<dt id="arg-t-">t0<a class="anchor" aria-label="anchor" href="#arg-t-"></a></dt>
<dd><p>a numeric scalar that indicates the reference time.</p></dd>


<dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>degree of freedom for the t-distributed based bands. If NULL, Gaussian distributed bands are computed.</p></dd>


<dt id="arg-conf-level">conf.level<a class="anchor" aria-label="anchor" href="#arg-conf-level"></a></dt>
<dd><p>confidence level for the bands to achieve.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>The <code>fdid_scb</code> function returns a list containing three objects:</p><dl><dt>scb</dt>
<dd><p>a list that includes the functional estimate of event study coefficients and the simultaneous confidence band.</p></dd>

<dt>ci</dt>
<dd><p>a matrix that includes the point-wise estimates of event study coefficients and their confidence intervals.</p></dd>

<dt>data</dt>
<dd><p>a list that stores the original inputs of beta and cov.</p></dd>


</dl><p>The output is an object of S3 class <code>"fdid_scb"</code>.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Fang, C. and Liebl, D. (2025). Making Event Study Plots Honest: A Functional Data Approach to Causal Inference.</p>
<p>Liebl, D. and M. Reimherr (2023). Fast and fair simultaneous confidence bands for functional parameters. Journal of
the Royal Statistical Society Series B: Statistical Methodology 85(3), 842–868</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="fdid.html">fdid</a>, <a href="https://rdrr.io/pkg/ffscb/man/confidence_band.html" class="external-link">confidence_band</a>, <a href="https://rdrr.io/pkg/ffscb/man/confidence_band_fragm.html" class="external-link">confidence_band_fragm</a>, <a href="cov_spline.html">cov_spline</a></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">LWdata</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fdid_scb_est1</span> <span class="op">&lt;-</span> <span class="fu">fdid_scb</span><span class="op">(</span>beta<span class="op">=</span><span class="va">LWdata</span><span class="op">$</span><span class="va">beta</span>, cov<span class="op">=</span><span class="va">LWdata</span><span class="op">$</span><span class="va">cov</span>, t0<span class="op">=</span><span class="va">LWdata</span><span class="op">$</span><span class="va">t0</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">simulated_stagger_example</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fdid_est2</span> <span class="op">&lt;-</span> <span class="fu"><a href="fdid.html">fdid</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">simulated_stagger_data</span>, treatment<span class="op">=</span><span class="va">simulated_stagger_treatment</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fdid_scb_est2</span> <span class="op">&lt;-</span> <span class="fu">fdid_scb</span><span class="op">(</span>object<span class="op">=</span><span class="va">fdid_est2</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Chencheng Fang, Dominik Liebl.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

