<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Custom plot method for objects of class "fdid_scb" — plot.fdid_scb • fdid</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Inter-0.4.9/font.css" rel="stylesheet"><link href="../deps/Fira_Code-0.4.9/font.css" rel="stylesheet"><link href="../deps/Merriweather-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Custom plot method for objects of class " fdid_scb plot.fdid_scb><meta name="description" content='This function is an S3 method for plot, specifically designed for objects of class "fdid_scb". It plots the simultaneous confidence bands together with honest reference band for performing honest causal inference.'><meta property="og:description" content='This function is an S3 method for plot, specifically designed for objects of class "fdid_scb". It plots the simultaneous confidence bands together with honest reference band for performing honest causal inference.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fdid</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/ccfang2/fdid"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Custom plot method for objects of class <code>"fdid_scb"</code></h1>

      <div class="d-none name"><code>plot.fdid_scb.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function is an S3 method for <a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a>, specifically designed for objects of class <code>"fdid_scb"</code>. It plots the simultaneous confidence bands together with honest reference band for performing honest causal inference.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'fdid_scb'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  ta.ts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ta.s <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  frmtr.m <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ref.band.pre <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  note.pre <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  note.post <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ci.pre <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ci.post <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  pos.legend <span class="op">=</span> <span class="st">"top"</span>,</span>
<span>  scale.legend <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>an object of class <code>"fdid_scb"</code>. The object to be plotted.</p></dd>


<dt id="arg-ta-ts">ta.ts<a class="anchor" aria-label="anchor" href="#arg-ta-ts"></a></dt>
<dd><p>a numeric value that indicates the time point based on which the sample estimates for treatment anticipation biases are computed. It should be less or equal to the time point after which units start responding to a future treatment. It is supposed to be greater than the minimal event time and no greater than t0 in <code>object</code>. If it is NULL, there is no anticipation.</p></dd>


<dt id="arg-ta-s">ta.s<a class="anchor" aria-label="anchor" href="#arg-ta-s"></a></dt>
<dd><p>a numeric vector of control parameters with length two for deriving the honest reference band under the violation of no-anticipation assumption. If NULL, the critical value \(t_{1-\alpha/2, df}\) or \(z_{1-\alpha/2}\) is applied with the same \(\alpha\) used for constructing the point-wise confidence intervals. If no treatment anticipation is defined in <code>ta.ts</code>, the value of <code>ta.s</code> is ignored.</p></dd>


<dt id="arg-frmtr-m">frmtr.m<a class="anchor" aria-label="anchor" href="#arg-frmtr-m"></a></dt>
<dd><p>a numeric vector of control parameters with length two for deriving the honest reference band under violation of the parallel trends assumption. The default is NULL.</p></dd>


<dt id="arg-ref-band-pre">ref.band.pre<a class="anchor" aria-label="anchor" href="#arg-ref-band-pre"></a></dt>
<dd><p>a logical value. If TRUE, the reference band for pre-anticipation period is also plotted.</p></dd>


<dt id="arg-note-pre">note.pre<a class="anchor" aria-label="anchor" href="#arg-note-pre"></a></dt>
<dd><p>a logical value. If TRUE, the note for pre-anticipation period is given on top of plot. If no honest reference band is defined, there is no need to perform validation in the pre-anticipation period, and <code>note.pre</code> is FALSE.</p></dd>


<dt id="arg-note-post">note.post<a class="anchor" aria-label="anchor" href="#arg-note-post"></a></dt>
<dd><p>a logical value. If TRUE, the note for post-treatment period is given on top of plot.</p></dd>


<dt id="arg-ci-pre">ci.pre<a class="anchor" aria-label="anchor" href="#arg-ci-pre"></a></dt>
<dd><p>a logical value. If TRUE, the point-wise confidence intervals for pre-treatment period are plotted.</p></dd>


<dt id="arg-ci-post">ci.post<a class="anchor" aria-label="anchor" href="#arg-ci-post"></a></dt>
<dd><p>a logical value. If TRUE, the point-wise confidence intervals for post-treatment period are plotted.</p></dd>


<dt id="arg-pos-legend">pos.legend<a class="anchor" aria-label="anchor" href="#arg-pos-legend"></a></dt>
<dd><p>a character value of "top" or "bottom" that indicates the position of legend. If NULL, the legend is not printed.</p></dd>


<dt id="arg-scale-legend">scale.legend<a class="anchor" aria-label="anchor" href="#arg-scale-legend"></a></dt>
<dd><p>a positive number that defines the size of legend. If <code>pos.legend</code> is NULL, the value of <code>scale.legend</code> is ignored.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>a logical value. If TRUE, the uniformly significant time span(s) under your specification will be directly printed out on the console.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to be passed to <a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The function returns a plot with simultaneous confidence bands for event study coefficients in a functional framework, together with the honest reference band for honest inference, if properly defined.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Fang, C. and Liebl, D. (2025). Making Event Study Plots Honest: A Functional Data Approach to Causal Inference. <a href="https://arxiv.org/abs/2512.06804" class="external-link">arXiv:2512.06804</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="fdid_scb.html">fdid_scb</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">LWdata</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fdid_scb_est</span> <span class="op">&lt;-</span> <span class="fu"><a href="fdid_scb.html">fdid_scb</a></span><span class="op">(</span>beta<span class="op">=</span><span class="va">LWdata</span><span class="op">$</span><span class="va">beta</span>, cov<span class="op">=</span><span class="va">LWdata</span><span class="op">$</span><span class="va">cov</span>, t0<span class="op">=</span><span class="va">LWdata</span><span class="op">$</span><span class="va">t0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"The reference time is "</span>, <span class="va">LWdata</span><span class="op">$</span><span class="va">t0</span>, <span class="st">". If not NULL, the input 'ta.ts' in function 'plot' should be smaller than this value."</span>, sep<span class="op">=</span><span class="st">""</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The reference time is -2. If not NULL, the input 'ta.ts' in function 'plot' should be smaller than this value.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## simultaneous inference</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>cex.axis <span class="op">=</span> <span class="fl">1.4</span>, cex.lab <span class="op">=</span> <span class="fl">1.4</span>, cex.main <span class="op">=</span> <span class="fl">1.4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fdid_scb_est</span>, scale.legend<span class="op">=</span><span class="fl">1.4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Uniformly and Negatively Significant Time Span: [ 0.7017241 , 1.616516 ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Uniformly and Negatively Significant Time Span: [ 9.728693 , 9.9123 ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Uniformly and Negatively Significant Time Span: [ 10.20746 , 10.48609 ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Uniformly and Negatively Significant Time Span: [ 11.09255 , 21 ]</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/title.html" class="external-link">title</a></span><span class="op">(</span>ylab<span class="op">=</span><span class="st">"Effects of Duty-to-Bargain Laws"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.fdid_scb-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## honest inference under treatment anticipation</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fdid_scb_est</span>, ta.ts<span class="op">=</span><span class="op">-</span><span class="fl">3</span>, scale.legend<span class="op">=</span><span class="fl">1.4</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.fdid_scb-2.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Uniformly and Positively Significant Time Span: [ -2 , -1.791375 ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Uniformly and Negatively Significant Time Span: [ 14.60907 , 18.89907 ]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## honest inference under violation of parallel trends assumption</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fdid_scb_est</span>, frmtr.m<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.2</span><span class="op">)</span>, scale.legend<span class="op">=</span><span class="fl">1.4</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.fdid_scb-3.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>list(text = “© 2025 Chencheng Fang · University of Bonn”)</p>
</div>

<div class="pkgdown-footer-right">
  <p>list(text = “Built with pkgdown and bslib”)</p>
</div>

    </footer></div>





  </body></html>

